<html>

<head>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

        <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/alt/video-js-cdn.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/video.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/3.0.2/videojs-contrib-hls.js"></script>
</head>

<body>
    <img src="" id="camera" />
    <video id="video" class="video-js vjs-default-skin" preload="none" crossorigin="true" controls width="640" height="268" controls>
    </video>

    <script>

    //$("#video").html("<source src='https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8' type='application/x-mpegURL'>");
    $("#video").html("<source src='http://localhost/live/playlist.m3u8' type='application/x-mpegURL'>");
    var ply = videojs("video");
    ply.play();


        /*

        var FPS = 45;

        $(document).ready(function () {
            console.log("camera ready.");

            var image = document.getElementById("camera");

            function render() {
                let begin = Date.now();

                $.ajax({
                    url: "{{basename}}/get_data_camera",
                }).done(function (result) {
                    $("#camera").attr('src', 'data:image/png;base64,' + result);
                });

                let delay = 1000/FPS - (Date.now() - begin);
                setTimeout(render, delay);
            }

            setInterval(render, 0);
        });
        */
    </script>
</body>

</html>